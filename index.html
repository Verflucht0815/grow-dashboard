<!DOCTYPE html>
<html>
<head>
    <title>üåø GrowGuide Pro</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/moment"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-moment"></script>
    <style>
        :root {
            --bg-color: #f5f5f5;
            --text-color: #333;
            --primary: #4CAF50;
            --secondary: #2E7D32;
            --card-bg: white;
            --chart-height: 300px;
        }
        
        @media (prefers-color-scheme: dark) {
            :root {
                --bg-color: #121212;
                --text-color: #f5f5f5;
                --card-bg: #1e1e1e;
                --primary: #2E7D32;
            }
        }
        
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            color: var(--text-color);
        }
        
        /* Hauptmen√º */
        .main-menu {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            padding: 20px;
        }
        
        .menu-card {
            background-color: var(--card-bg);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: transform 0.3s;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            border-left: 5px solid var(--primary);
        }
        
        .menu-card:hover {
            transform: translateY(-5px);
        }
        
        .menu-card h2 {
            color: var(--primary);
            margin-top: 0;
        }
        
        /* Modul-Seiten */
        .module {
            display: none;
            padding: 20px;
        }
        
        .module.active {
            display: block;
        }
        
        /* Back Button */
        .back-btn {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            margin-bottom: 20px;
        }
        
        /* Chart Container */
        .chart-container {
            position: relative;
            width: 100%;
            height: var(--chart-height);
            margin: 20px 0;
        }
        
        /* Zeitauswahl */
        .time-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .time-btn {
            background-color: var(--card-bg);
            border: 1px solid var(--primary);
            color: var(--primary);
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .time-btn.active {
            background-color: var(--primary);
            color: white;
        }
        
        /* Guide Untermen√º */
        .submenu {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }
        
        .submenu-item {
            background-color: var(--card-bg);
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            border-left: 3px solid var(--secondary);
        }
        
        @media (max-width: 768px) {
            :root {
                --chart-height: 250px;
            }
            
            .main-menu {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Hauptmen√º -->
    <div id="main-menu" class="main-menu">
        <div class="menu-card" data-module="monitoring">
            <h2>Monitoring</h2>
            <p>Temperatur, Luftfeuchtigkeit, VPD</p>
        </div>
        
        <div class="menu-card" data-module="guides">
            <h2>Guides</h2>
            <p>Umfassende Anleitungen</p>
        </div>
    </div>
    
    <!-- Monitoring Modul -->
    <div id="monitoring-module" class="module">
        <button class="back-btn">‚Üê Hauptmen√º</button>
        <h1>Monitoring</h1>
        
        <div class="main-menu">
            <div class="menu-card" data-submodule="temp">
                <h2>Temperatur</h2>
                <p>Aktuelle Werte & Verlauf</p>
            </div>
            
            <div class="menu-card" data-submodule="humidity">
                <h2>Luftfeuchtigkeit</h2>
                <p>Optimale Werte</p>
            </div>
            
            <div class="menu-card" data-submodule="vpd">
                <h2>VPD</h2>
                <p>Dampfdruckdefizit</p>
            </div>
        </div>
    </div>
    
    <!-- Guides Modul -->
    <div id="guides-module" class="module">
        <button class="back-btn">‚Üê Hauptmen√º</button>
        <h1>Grow Guides</h1>
        
        <div class="main-menu">
            <!-- Grundlagen -->
            <div class="menu-card" data-submodule="basics">
                <h2>Grundlagen</h2>
                <div class="submenu">
                    <div class="submenu-item" data-page="soil">Erde</div>
                    <div class="submenu-item" data-page="water">Wasser</div>
                    <div class="submenu-item" data-page="nutrients">D√ºnger</div>
                    <div class="submenu-item" data-page="ph">pH-Wert</div>
                    <div class="submenu-item" data-page="ec">EC/PPM</div>
                </div>
            </div>
            
            <!-- Phasen -->
            <div class="menu-card" data-submodule="phases">
                <h2>Wachstumsphasen</h2>
                <div class="submenu">
                    <div class="submenu-item" data-page="germination">Keimung</div>
                    <div class="submenu-item" data-page="vegetative">Vegetative Phase</div>
                    <div class="submenu-item" data-page="flowering">Bl√ºtephase</div>
                </div>
            </div>
            
            <!-- Trainingsmethoden -->
            <div class="menu-card" data-submodule="training">
                <h2>Trainingsmethoden</h2>
                <div class="submenu">
                    <div class="submenu-item" data-page="scrog">SCROG</div>
                    <div class="submenu-item" data-page="sog">SOG</div>
                    <div class="submenu-item" data-page="mainlining">Mainlining</div>
                    <div class="submenu-item" data-page="topping">Topping</div>
                    <div class="submenu-item" data-page="defoliation">Defolieren</div>
                    <div class="submenu-item" data-page="12-12">12/12 Seed to Flower</div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Submodule Container (f√ºr Graphen und Detailseiten) -->
    <div id="submodules-container"></div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // Demo-Daten f√ºr Graphen
        const demoData = {
            temp: [
                { x: '2023-06-01T08:00:00', y: 22.5 },
                { x: '2023-06-01T12:00:00', y: 24.8 },
                { x: '2023-06-01T16:00:00', y: 26.3 },
                { x: '2023-06-01T20:00:00', y: 23.7 },
                { x: '2023-06-02T08:00:00', y: 21.9 }
            ],
            humidity: [
                { x: '2023-06-01T08:00:00', y: 65 },
                { x: '2023-06-01T12:00:00', y: 58 },
                { x: '2023-06-01T16:00:00', y: 52 },
                { x: '2023-06-01T20:00:00', y: 60 },
                { x: '2023-06-02T08:00:00', y: 68 }
            ],
            vpd: [
                { x: '2023-06-01T08:00:00', y: 0.9 },
                { x: '2023-06-01T12:00:00', y: 1.2 },
                { x: '2023-06-01T16:00:00', y: 1.4 },
                { x: '2023-06-01T20:00:00', y: 1.0 },
                { x: '2023-06-02T08:00:00', y: 0.8 }
            ]
        };

        // Navigation steuern
        function showModule(moduleId) {
            document.querySelectorAll('.module').forEach(m => m.classList.remove('active'));
            document.getElementById('main-menu').style.display = 'none';
            document.getElementById(moduleId + '-module').classList.add('active');
        }
        
        function showSubmodule(moduleId, submoduleId) {
            let content = '';
            
            if (moduleId === 'monitoring') {
                content = `
                    <div class="module active">
                        <button class="back-btn">‚Üê Monitoring</button>
                        <h1>${submoduleId === 'temp' ? 'Temperatur (¬∞C)' : 
                             submoduleId === 'humidity' ? 'Luftfeuchtigkeit (%)' : 'VPD (kPa)'}</h1>
                        
                        <div class="time-selector">
                            <button class="time-btn active" data-hours="1">1h</button>
                            <button class="time-btn" data-hours="6">6h</button>
                            <button class="time-btn" data-hours="24">24h</button>
                            <button class="time-btn" data-hours="168">7d</button>
                        </div>
                        
                        <div class="chart-container">
                            <canvas id="chart"></canvas>
                        </div>
                        
                        <div class="info-box">
                            <h3>Optimalbereiche:</h3>
                            ${submoduleId === 'temp' ? 
                              '<p>22-28¬∞C (Tag), 18-22¬∞C (Nacht)</p>' :
                             submoduleId === 'humidity' ? 
                              '<p>40-70% (Vegetation), 40-50% (Bl√ºte)</p>' :
                              '<p>0.8-1.2 kPa (Vegetation), 1.0-1.5 kPa (Bl√ºte)</p>'}
                        </div>
                    </div>
                `;
            }
            
            document.getElementById('submodules-container').innerHTML = content;
            document.getElementById('main-menu').style.display = 'none';
            
            if (moduleId === 'monitoring') {
                initChart(submoduleId);
                setupTimeButtons(submoduleId);
            }
        }
        
        function showPage(moduleId, submoduleId, pageId) {
            const pageTitles = {
                'soil': 'Erde',
                'water': 'Wasser',
                'nutrients': 'D√ºnger',
                'ph': 'pH-Wert',
                'ec': 'EC/PPM-Wert',
                'germination': 'Keimung',
                'vegetative': 'Vegetative Phase',
                'flowering': 'Bl√ºtephase',
                'scrog': 'SCROG Methode',
                'sog': 'Sea of Green',
                'mainlining': 'Mainlining',
                'topping': 'Topping',
                'defoliation': 'Defolieren',
                '12-12': '12/12 Seed to Flower'
            };
            
            const content = `
                <div class="module active">
                    <button class="back-btn">‚Üê ${submoduleId.charAt(0).toUpperCase() + submoduleId.slice(1)}</button>
                    <h1>${pageTitles[pageId] || pageId}</h1>
                    <div class="card">
                        <p>Hier kommt der Guide-Inhalt f√ºr ${pageTitles[pageId] || pageId}</p>
                    </div>
                </div>
            `;
            
            document.getElementById('submodules-container').innerHTML = content;
        }
        
        function backToMain() {
            document.querySelectorAll('.module').forEach(m => m.classList.remove('active'));
            document.getElementById('main-menu').style.display = 'grid';
            document.getElementById('submodules-container').innerHTML = '';
        }
        
        // Chart Initialisierung
        function initChart(type) {
            const ctx = document.getElementById('chart').getContext('2d');
            const colors = {
                temp: '#FF6384',
                humidity: '#36A2EB',
                vpd: '#9C27B0'
            };
            
            new Chart(ctx, {
                type: 'line',
                data: {
                    datasets: [{
                        label: type === 'temp' ? 'Temperatur (¬∞C)' : 
                               type === 'humidity' ? 'Luftfeuchtigkeit (%)' : 'VPD (kPa)',
                        data: demoData[type],
                        borderColor: colors[type],
                        backgroundColor: colors[type] + '20',
                        borderWidth: 2,
                        tension: 0.1,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            type: 'time',
                            time: {
                                tooltipFormat: 'DD.MM HH:mm',
                                unit: 'hour'
                            }
                        },
                        y: {
                            beginAtZero: type !== 'temp'
                        }
                    }
                }
            });
        }
        
        // Zeitauswahl Buttons
        function setupTimeButtons(type) {
            document.querySelectorAll('.time-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.time-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Hier w√ºrdest du die Daten f√ºr den ausgew√§hlten Zeitraum laden
                    console.log(`Lade ${type}-Daten f√ºr ${this.dataset.hours} Stunden`);
                });
            });
        }
        
        // Event Listener
        document.querySelectorAll('.menu-card').forEach(card => {
            card.addEventListener('click', function() {
                const module = this.dataset.module;
                const submodule = this.dataset.submodule;
                
                if (module) showModule(module);
                if (submodule) {
                    const parentModule = this.closest('.module').id.replace('-module', '');
                    showSubmodule(parentModule, submodule);
                }
            });
        });
        
        document.querySelectorAll('.submenu-item').forEach(item => {
            item.addEventListener('click', function() {
                const page = this.dataset.page;
                const submodule = this.closest('.menu-card').dataset.submodule;
                const module = this.closest('.module').id.replace('-module', '');
                
                showPage(module, submodule, page);
            });
        });
        
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('back-btn')) {
                backToMain();
            }
        });
    });
    </script>
</body>
</html>
